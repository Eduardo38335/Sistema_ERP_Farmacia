{% extends 'base.html' %}

{% block content %}

<style>
    /* Ocultar flechas en Chrome, Safari, Edge, Opera */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    /* Ocultar flechas en Firefox y Estándar */
    input[type=number] {
      -moz-appearance: textfield; /* Para Firefox viejo */
      appearance: textfield;      /* Para navegadores modernos (Lo que te pedía VS Code) */
    }
</style>

<div class="row justify-content-center">
    <div class="col-md-9"> <div class="card shadow">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0">✨ Registrar Nuevo Producto</h5>
            </div>
            <div class="card-body">
                
                <form action="/guardar_producto" method="POST">
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label fw-bold">SKU (Interno)</label>
                            <input type="text" name="sku" class="form-control" placeholder="Ej: PAR-500" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-bold">UPC (Código de Barras)</label>
                            <input type="text" name="upc" class="form-control" placeholder="Escanea aquí...">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label fw-bold">Nombre del Producto</label>
                        <input type="text" name="nombre" class="form-control" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Descripción / Detalles Médicos</label>
                        <textarea name="descripcion" class="form-control" rows="2" placeholder="Ej: Caja con 10 tabletas, 500mg..."></textarea>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label fw-bold text-primary">Precio Compra ($)</label>
                            <input type="number" step="0.01" min="0" name="precio_compra" class="form-control" placeholder="0.00" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-bold text-success">Precio Venta ($)</label>
                            <input type="number" step="0.01" min="0" name="precio_venta" class="form-control" placeholder="0.00" required>
                        </div>
                    </div>

                    <hr>

                    <div class="row mb-4">
                        
                        <div class="col-md-3">
                            <label class="form-label text-muted small">Categoría</label>
                            <select name="id_categoria" class="form-select" required>
                                <option value="" selected disabled>Elegir...</option>
                                {% for c in categorias %}
                                    <option value="{{ c[0] }}">{{ c[1] }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-3">
                            <label class="form-label text-muted small">Laboratorio</label>
                            <select name="id_laboratorio" class="form-select" required>
                                <option value="" selected disabled>Elegir...</option>
                                {% for l in laboratorios %}
                                    <option value="{{ l[0] }}">{{ l[1] }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-3">
                            <label class="form-label text-muted small">Presentación</label>
                            <select name="id_presentacion" class="form-select" required>
                                <option value="" selected disabled>Elegir...</option>
                                {% for p in presentaciones %}
                                    <option value="{{ p[0] }}">{{ p[1] }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="col-md-3">
                            <label class="form-label text-muted small">Unidad</label>
                            <select name="id_unidad" class="form-select" required>
                                <option value="" selected disabled>Elegir...</option>
                                {% for u in unidades %}
                                    <option value="{{ u[0] }}">{{ u[1] }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>

                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a href="/inventario" class="btn btn-secondary me-md-2">Cancelar</a>
                        <button type="submit" class="btn btn-success px-5">Guardar Producto</button>
                    </div>

                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}